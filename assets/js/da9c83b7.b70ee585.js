"use strict";(self.webpackChunkcursos=self.webpackChunkcursos||[]).push([[1712],{126:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"reactjs/hooks/useReducer","title":"6. useReducer","description":"\xbfQu\xe9 es useReducer? \xbfQu\xe9 es un reducer?","source":"@site/docs/reactjs/hooks/useReducer.md","sourceDirName":"reactjs/hooks","slug":"/reactjs/hooks/useReducer","permalink":"/cursos/docs/reactjs/hooks/useReducer","draft":false,"unlisted":false,"editUrl":"https://github.com/jagarciar/cursos/tree/main/docs/reactjs/hooks/useReducer.md","tags":[{"inline":false,"label":"React","permalink":"/cursos/docs/tags/about-react","description":"Tutoriales donde se menciona la palabra react"},{"inline":false,"label":"React JS","permalink":"/cursos/docs/tags/about-react-js","description":"Tutoriales donde se menciona la palabra reactjs"},{"inline":false,"label":"NPM","permalink":"/cursos/docs/tags/about-npm","description":"Tutoriales donde se menciona la palabra npm"},{"inline":false,"label":"Vite","permalink":"/cursos/docs/tags/about-vite","description":"Tutoriales donde se menciona la palabra vite"},{"inline":false,"label":"Componente funcional","permalink":"/cursos/docs/tags/about-functional-component","description":"Tutoriales donde se menciona la palabra componente funcional"},{"inline":false,"label":"hooks","permalink":"/cursos/docs/tags/about-hooks","description":"Tutoriales donde se menciona la palabra hooks"},{"inline":false,"label":"useReducer","permalink":"/cursos/docs/tags/about-useReducer","description":"Tutoriales donde se menciona la palabra useReducer"},{"inline":false,"label":"useEffect","permalink":"/cursos/docs/tags/about-useEffect","description":"Tutoriales donde se menciona la palabra useEffect"},{"inline":false,"label":"Reducer","permalink":"/cursos/docs/tags/about-reducer","description":"Tutoriales donde se menciona la palabra reducer"},{"inline":false,"label":"useState","permalink":"/cursos/docs/tags/about-useState","description":"Tutoriales donde se menciona la palabra useState"},{"inline":false,"label":"Estado","permalink":"/cursos/docs/tags/about-estado","description":"Tutoriales donde se menciona la palabra estado"}],"version":"current","lastUpdatedBy":"Jeyson Andr\xe9s Garc\xeda Rodr\xedguez","lastUpdatedAt":1746144000000,"sidebarPosition":6,"frontMatter":{"id":"useReducer","title":"6. useReducer","sidebar_position":6,"author":"jeogarod","description":"\xbfQu\xe9 es useReducer? \xbfQu\xe9 es un reducer?","tags":["react","reactjs","npm","vite","componente-funcional","hooks","useReducer","useEffect","reducer","useState","estado"],"last_update":{"date":"05/02/2025","author":"Jeyson Andr\xe9s Garc\xeda Rodr\xedguez"}},"sidebar":"tutorialSidebar","previous":{"title":"5. useCallback","permalink":"/cursos/docs/reactjs/hooks/useCallback"},"next":{"title":"7. Custom hooks","permalink":"/cursos/docs/reactjs/hooks/custom-hooks"}}');var r=a(4848),t=a(8453);const o={id:"useReducer",title:"6. useReducer",sidebar_position:6,author:"jeogarod",description:"\xbfQu\xe9 es useReducer? \xbfQu\xe9 es un reducer?",tags:["react","reactjs","npm","vite","componente-funcional","hooks","useReducer","useEffect","reducer","useState","estado"],last_update:{date:"05/02/2025",author:"Jeyson Andr\xe9s Garc\xeda Rodr\xedguez"}},c="6. useReducer",i={},l=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"6-usereducer",children:"6. useReducer"})}),"\n",(0,r.jsxs)(n.p,{children:["Es una funci\xf3n que especifica c\xf3mo el ",(0,r.jsx)(n.strong,{children:"estado de una aplicaci\xf3n"})," debe cambiar en respuesta a una acci\xf3n enviada a trav\xe9s de un ",(0,r.jsx)(n.strong,{children:"dispatch"}),". Un ",(0,r.jsx)(n.strong,{children:"reducer"})," toma el ",(0,r.jsx)(n.strong,{children:"estado actual"})," y una ",(0,r.jsx)(n.strong,{children:"acci\xf3n"})," como ",(0,r.jsx)(n.strong,{children:"argumentos"})," y ",(0,r.jsx)(n.strong,{children:"devuelve"})," un ",(0,r.jsx)(n.strong,{children:"nuevo estado"})," que refleja como deber\xeda cambiar el estado de la aplicaci\xf3n en respuesta a esa acci\xf3n espec\xedfica."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Aunque no es necesario usar ",(0,r.jsx)(n.strong,{children:"useReducer"})," para gestionar el estado en ",(0,r.jsx)(n.strong,{children:"React"}),", puede ser \xfatil en situaciones donde el ",(0,r.jsx)(n.strong,{children:"estado"})," y las ",(0,r.jsx)(n.strong,{children:"transiciones"})," de ",(0,r.jsx)(n.strong,{children:"estado"})," son m\xe1s complejadas o donde se necesita manejar l\xf3gica m\xe1s avanzada que ",(0,r.jsx)(n.a,{href:"/cursos/docs/reactjs/hooks/useState",children:(0,r.jsx)(n.strong,{children:"useState"})})," no puede cubrir facilmente."]})}),"\n",(0,r.jsxs)(n.p,{children:["El ",(0,r.jsx)(n.strong,{children:"hook"})," ",(0,r.jsx)(n.strong,{children:"useReducer"})," est\xe1 compuesto de un ",(0,r.jsx)(n.strong,{children:"estado inicial"})," y un ",(0,r.jsx)(n.strong,{children:"reducer"})," explicados a continuaci\xf3n:"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"initialState"})," es el ",(0,r.jsx)(n.strong,{children:"estado inicial"})," de un componente."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const initialState = {\n    counter : 0\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"reducer"})," es una funci\xf3n qu\xe9 especifica como el ",(0,r.jsx)(n.strong,{children:"estado"})," debe cambiar en respuesta a las acciones."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const reducer = (state, action) => {\n    switch(action.type){\n        case 'INCREMENT':\n            return { counter : state.counter + 1};\n        case 'DECREMENT':\n            return { counter : state.counter - 1};\n        default:\n            return state;\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["El componente ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," importa a ",(0,r.jsx)(n.strong,{children:"useReducer"}),". El ",(0,r.jsx)(n.strong,{children:"hook"})," ",(0,r.jsx)(n.strong,{children:"useReducer"})," inicializa el ",(0,r.jsx)(n.strong,{children:"estado"})," del componente y proporciona una funci\xf3n ",(0,r.jsx)(n.strong,{children:"dispatch"})," que se utiliza para enviar ",(0,r.jsx)(n.strong,{children:"acciones"})," al ",(0,r.jsx)(n.strong,{children:"reducer"}),". ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," retorna en un parr\xe1fo el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"counter"})," y dos botones. El primer bot\xf3n llama al ",(0,r.jsx)(n.strong,{children:"dispatch"})," con el argumento ",(0,r.jsx)(n.strong,{children:"type = 'INCREMENT'"}),". El segundo bot\xf3n llama al ",(0,r.jsx)(n.strong,{children:"dispatch"})," con el argumento ",(0,r.jsx)(n.strong,{children:"type = 'DECREMENT'"}),". Es decir, al darle click al primer bot\xf3n, el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"counter"})," se incrementa en 1 y al darle click al segundo bot\xf3n, el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"counter"})," se decrementa en 1."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import React from 'react'\nimport { useReducer } from 'react';\n\nexport const ComponenteApp = () => {\n  \n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <>\n        <p>Contador : {state.counter}</p>\n        <button onClick={() => dispatch({type : 'INCREMENT'})}>Incrementar</button>\n        <button onClick={() => dispatch({type : 'DECREMENT'})}>Decrementar</button>\n    </>\n  )\n}\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["El nombre de ",(0,r.jsx)(n.strong,{children:"useReducer"})," da pie a confundirlo con ",(0,r.jsx)(n.a,{href:"/cursos/docs/reactjs/frameworks/redux",children:(0,r.jsx)(n.strong,{children:"Redux"})}),", pero en realidad son cosas completamente diferentes."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useReducer"})," es un ",(0,r.jsx)(n.strong,{children:"hook"})," de ",(0,r.jsx)(n.strong,{children:"React"})," para ",(0,r.jsx)(n.strong,{children:"actualizar"})," un ",(0,r.jsx)(n.strong,{children:"estado"})," interno por medio de una funci\xf3n llamada ",(0,r.jsx)(n.strong,{children:"reducer"}),". ",(0,r.jsx)(n.a,{href:"/cursos/docs/reactjs/frameworks/redux",children:(0,r.jsx)(n.strong,{children:"Redux"})})," es una ",(0,r.jsx)(n.strong,{children:"arquitectura"})," que nos permite ",(0,r.jsx)(n.strong,{children:"abstraer"})," el manejo de un ",(0,r.jsx)(n.strong,{children:"estado"})," global en una aplicaci\xf3n."]})]}),"\n",(0,r.jsx)(n.p,{children:"Supongamos el siguiente ejemplo:"}),"\n",(0,r.jsxs)(n.p,{children:["Vamos a modelar el ",(0,r.jsx)(n.strong,{children:"estado"})," de nuestra aplicaci\xf3n como un arreglo o lista de elementos donde cada elemento representa una tarea. Cada tarea tiene un identificador, un nombre, una bandera que determina si la tarea ya fue finalizada o no y una bandera que determina si la tarea fue buscada o no."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const initialState = [\n    {\n        id:0,\n        name:"Hacer commit en la base de datos",\n        isCompleted:false,\n        isSelected:false\n    }\n]\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Nuestra funci\xf3n ",(0,r.jsx)(n.strong,{children:"reducer"})," recibir\xe1 el ",(0,r.jsx)(n.strong,{children:"estado"})," y la ",(0,r.jsx)(n.strong,{children:"acci\xf3n"}),". Dentro de las acciones que disponemos en nuestra aplicaci\xf3n se encuentra ",(0,r.jsx)(n.strong,{children:"ADD"})," y ",(0,r.jsx)(n.strong,{children:"FIND"}),". La acci\xf3n ",(0,r.jsx)(n.strong,{children:"ADD"})," adicionar\xe1 un elemento a nuestro arreglo o lista de tareas. La acci\xf3n ",(0,r.jsx)(n.strong,{children:"FIND"})," consultar\xe1 un elemento en el arreglo o lista de tareas."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["La funci\xf3n ",(0,r.jsx)(n.strong,{children:"ADD"})," actualizar\xe1 el valor del campo ",(0,r.jsx)(n.strong,{children:"isSelected"})," para todos los elementos del arreglo o lista a ",(0,r.jsx)(n.strong,{children:"false"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["La funci\xf3n ",(0,r.jsx)(n.strong,{children:"FIND"})," actualizar\xe1 el valor del campo ",(0,r.jsx)(n.strong,{children:"isSelected"})," a ",(0,r.jsx)(n.strong,{children:"true"})," para el elemento del arreglo o lista que fue encontrado."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const reducer = (state, action) => {\n    const { name } = action.payload;\n    switch (action.type) {\n        case 'ADD':\n            state.map((x) => {\n                x.isSelected = false;\n            })\n            return [\n                ...state,\n                {\n                    id: uuidv4(),\n                    name: name,\n                    isSelected : false,\n                    isCompleted: false\n                }\n            ]\n        case 'FIND':\n            state.map((x) => {\n                if (x.name == name) {\n                    x.isSelected = true;\n                }\n            })\n            return state;\n        default:\n            return state;\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["El componente ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," tiene dos variables de estado : ",(0,r.jsx)(n.strong,{children:"tarea"})," y ",(0,r.jsx)(n.strong,{children:"tareaEncontrada"})," con sus respectivas funciones ",(0,r.jsx)(n.strong,{children:"set"})," ",(0,r.jsx)(n.strong,{children:"setTarea"})," y ",(0,r.jsx)(n.strong,{children:"setTareaEncontrada"}),". ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," importa un ",(0,r.jsx)(n.strong,{children:"reducer"})," con un ",(0,r.jsx)(n.strong,{children:"estado inicial"})," definidos previamente. ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," implement\xf3 tres funciones : ",(0,r.jsx)(n.strong,{children:"handleChange"}),", ",(0,r.jsx)(n.strong,{children:"addTarea"})," y ",(0,r.jsx)(n.strong,{children:"buscarTarea"}),".  La funci\xf3n ",(0,r.jsx)(n.strong,{children:"handleChange"})," actualizar\xe1 el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"tarea"}),". La funci\xf3n ",(0,r.jsx)(n.strong,{children:"addTarea"})," invocar\xe1 el ",(0,r.jsx)(n.strong,{children:"dispatch"})," enviando el ",(0,r.jsx)(n.strong,{children:"type = 'ADD'"})," y el nombre de la tarea. La funci\xf3n ",(0,r.jsx)(n.strong,{children:"buscarTarea"})," invocar\xe1 el ",(0,r.jsx)(n.strong,{children:"dispatch"})," enviando el ",(0,r.jsx)(n.strong,{children:"type = 'FIND'"})," y el nombre de la tarea. Adicionalmente, el componente ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," defini\xf3 el ",(0,r.jsx)(n.strong,{children:"hook"})," ",(0,r.jsx)(n.strong,{children:"useEffect"})," para que cada que se actualice el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"tarea"})," consulte del ",(0,r.jsx)(n.strong,{children:"estado"})," del ",(0,r.jsx)(n.strong,{children:"hook"})," ",(0,r.jsx)(n.strong,{children:"useReducer"})," si alg\xfan elemento del arreglo o lista de tareas fue buscada o no. El ",(0,r.jsx)(n.strong,{children:"hook"})," ",(0,r.jsx)(n.strong,{children:"useEffect"})," actualiza el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"tareaEncontrada"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"A tener en cuenta sobre las funciones del componente:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["La funci\xf3n ",(0,r.jsx)(n.strong,{children:"addTarea"})," actualiza el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"tareaEncontrada"})," dejandola en nulo o vac\xedo."]}),"\n",(0,r.jsxs)(n.li,{children:["Tanto para la funci\xf3n ",(0,r.jsx)(n.strong,{children:"addTarea"})," como para la funci\xf3n ",(0,r.jsx)(n.strong,{children:"buscarTarea"})," el objeto ",(0,r.jsx)(n.strong,{children:"action"})," contiene un atributo ",(0,r.jsx)(n.strong,{children:"type"})," (con dos posibles valores : ",(0,r.jsx)(n.strong,{children:"ADD"})," o ",(0,r.jsx)(n.strong,{children:"FIND"}),") y un atributo ",(0,r.jsx)(n.strong,{children:"payload"}),". El atributo ",(0,r.jsx)(n.strong,{children:"payload"})," contiene \xfanicamente el campo ",(0,r.jsx)(n.strong,{children:"name"}),", el cu\xe1l representa el nombre de la tarea."]}),"\n",(0,r.jsxs)(n.li,{children:["Tanto la funci\xf3n ",(0,r.jsx)(n.strong,{children:"addTarea"})," como la funci\xf3n ",(0,r.jsx)(n.strong,{children:"buscarTarea"})," actualizan el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"tarea"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"A tener en cuenta sobre el retorno del componente:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["El componente ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," retorna una caja de texto donde el usuario podr\xe1 digitar el nombre de la tarea. Esta caja de texto dispara la funci\xf3n ",(0,r.jsx)(n.strong,{children:"handleChange"})," a partir del evento ",(0,r.jsx)(n.strong,{children:"onChange"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["El componente ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," retorna dos botones : el primer bot\xf3n dispara la funci\xf3n ",(0,r.jsx)(n.strong,{children:"addTarea"})," y el segundo bot\xf3n dispara la funci\xf3n ",(0,r.jsx)(n.strong,{children:"buscarTarea"}),". Ambos botones disparan las funciones a partir del evento ",(0,r.jsx)(n.strong,{children:"onClick"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["El componente ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," retorna una ",(0,r.jsx)(n.strong,{children:"lista desordenada"})," donde cada elemento es una tarea. Cada tarea tiene su identificador, un nombre, una bandera que determina si est\xe1 completada o no y una bandera que determina si fue buscada o no."]}),"\n",(0,r.jsxs)(n.li,{children:["El componente ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," retorna una ",(0,r.jsx)(n.strong,{children:"lista desordenada"})," de un \xfanico elemento siempre que el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"tareaEncontrada"})," es diferente de nulo o vac\xedo."]}),"\n",(0,r.jsxs)(n.li,{children:["El componente ",(0,r.jsx)(n.strong,{children:"ComponenteApp"})," retorna una ",(0,r.jsx)(n.strong,{children:"lista desordenada"})," de varios elementos siempre que el valor de la variable de estado ",(0,r.jsx)(n.strong,{children:"tareaEncontrada"})," sea nulo o vac\xedo."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import React, { useEffect } from 'react'\nimport { useReducer, useState } from 'react';\n\nexport const ComponenteApp = () => {\n\n    const [tareaEncontrada, setTareaEncontrada] = useState(null);\n    const [tarea, setTarea] = useState('');\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n    const handleChange = (event) => {\n        setTarea(event.target.value);\n    }\n\n    const addTarea = (event) => {\n        const action = {\n            type: 'ADD',\n            payload: {\n                name: tarea\n            }\n        }\n        dispatch(action);\n        setTarea('');\n        setTareaEncontrada(null);\n    }\n\n    const buscarTarea = (event) => {\n        const action = {\n            type: 'FIND',\n            payload: {\n                name: tarea\n            }\n        }\n        dispatch(action);\n        setTarea('');\n    }\n\n    useEffect(() => {\n        let encontrada = false;\n        state.map((item) => {\n            if(item.isSelected){\n                encontrada = true;\n                setTareaEncontrada(item);\n            }\n        })\n        if(!encontrada){\n            setTareaEncontrada(null);\n        }\n    },[tarea])\n\n    return (\n        <>\n\n\n            <input id=\"tarea\" name=\"tarea\" type=\"text\" onChange={handleChange} value={tarea} />\n            <button onClick={() => addTarea()}>Adicionar</button>\n            <button onClick={() => buscarTarea()}>Buscar</button>\n\n            <ul>\n                {\n                    tareaEncontrada == null && state && state.map((item) => {\n                        return (<li key={item.id} value={item.name}>{item.name}</li>)\n                    })\n                }\n            </ul>\n            <ul>\n                {\n                    tareaEncontrada != null && <li key={tareaEncontrada.id} value={tareaEncontrada.name}>{tareaEncontrada.name}</li>\n                }\n            </ul>\n        </>\n    )\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>c});var s=a(6540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);