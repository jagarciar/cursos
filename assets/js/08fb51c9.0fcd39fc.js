"use strict";(self.webpackChunkcursos=self.webpackChunkcursos||[]).push([[2413],{6163:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"reactjs/custom-hooks","title":"12. Custom hooks","description":"\xbfQu\xe9 son los custom hooks? \xbfEn qu\xe9 se diferencian con los hooks?","source":"@site/docs/reactjs/custom-hooks.md","sourceDirName":"reactjs","slug":"/reactjs/custom-hooks","permalink":"/cursos/docs/reactjs/custom-hooks","draft":false,"unlisted":false,"editUrl":"https://github.com/jagarciar/cursos/tree/main/docs/reactjs/custom-hooks.md","tags":[{"inline":false,"label":"React","permalink":"/cursos/docs/tags/about-react","description":"Tutoriales donde se menciona la palabra react"},{"inline":false,"label":"React JS","permalink":"/cursos/docs/tags/about-react-js","description":"Tutoriales donde se menciona la palabra reactjs"},{"inline":false,"label":"NPM","permalink":"/cursos/docs/tags/about-npm","description":"Tutoriales donde se menciona la palabra npm"},{"inline":false,"label":"Vite","permalink":"/cursos/docs/tags/about-vite","description":"Tutoriales donde se menciona la palabra vite"},{"inline":false,"label":"useState","permalink":"/cursos/docs/tags/about-useState","description":"Tutoriales donde se menciona la palabra useState"},{"inline":false,"label":"useEffect","permalink":"/cursos/docs/tags/about-useEffect","description":"Tutoriales donde se menciona la palabra useEffect"},{"inline":false,"label":"hooks","permalink":"/cursos/docs/tags/about-hooks","description":"Tutoriales donde se menciona la palabra componente hooks"}],"version":"current","lastUpdatedBy":"Jeyson Andr\xe9s Garc\xeda Rodr\xedguez","lastUpdatedAt":1745452800000,"sidebarPosition":12,"frontMatter":{"id":"custom-hooks","title":"12. Custom hooks","sidebar_position":12,"author":"jeogarod","description":"\xbfQu\xe9 son los custom hooks? \xbfEn qu\xe9 se diferencian con los hooks?","tags":["react","reactjs","npm","vite","useState","useEffect","hooks"],"last_update":{"date":"04/24/2025","author":"Jeyson Andr\xe9s Garc\xeda Rodr\xedguez"}},"sidebar":"tutorialSidebar","previous":{"title":"11. useEffect","permalink":"/cursos/docs/reactjs/useEffect"},"next":{"title":"13. Ciclo de vida","permalink":"/cursos/docs/reactjs/ciclo-vida"}}');var r=n(4848),a=n(8453);const t={id:"custom-hooks",title:"12. Custom hooks",sidebar_position:12,author:"jeogarod",description:"\xbfQu\xe9 son los custom hooks? \xbfEn qu\xe9 se diferencian con los hooks?",tags:["react","reactjs","npm","vite","useState","useEffect","hooks"],last_update:{date:"04/24/2025",author:"Jeyson Andr\xe9s Garc\xeda Rodr\xedguez"}},l="12. Custom hooks",i={},c=[{value:"useFetch",id:"usefetch",level:2},{value:"useLocalStorage",id:"uselocalstorage",level:2}];function d(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"12-custom-hooks",children:"12. Custom hooks"})}),"\n",(0,r.jsxs)(o.p,{children:["Un ",(0,r.jsx)(o.strong,{children:"Custom Hook"})," es una ",(0,r.jsx)(o.strong,{children:"funci\xf3n JavaScript"})," que utiliza otros ",(0,r.jsx)(o.strong,{children:"Hooks"})," de React para encapsular l\xf3gica de manera que pueda ser reutilizada en varios componentes. Estos hooks no son m\xe1s que una extensi\xf3n de los hooks est\xe1ndar de React, como useRef, ",(0,r.jsx)(o.a,{href:"./useState",children:"useState"})," o ",(0,r.jsx)(o.a,{href:"./useEffect",children:"useEffect"}),", permiti\xe9ndonos crear nuestra propia l\xf3gica que puede ser compartida y reutilizada en varios componentes. Es como un contenedor para la l\xf3gica de estado y efectos, permitiendo su reuso sin duplicar c\xf3digo."]}),"\n",(0,r.jsx)(o.admonition,{type:"tip",children:(0,r.jsxs)(o.p,{children:["La ",(0,r.jsx)(o.strong,{children:"gesti\xf3n de estados"})," es uno de los casos de uso m\xe1s comunes para los ",(0,r.jsx)(o.strong,{children:"custom hooks"})," en React. Estos permiten crear ",(0,r.jsx)(o.strong,{children:"manejadores de estado"})," que son reutilizables entre diferentes componentes. Por ejemplo, un custom hook podr\xeda manejar la l\xf3gica de un formulario, almacenando y actualizando valores de los campos de manera eficiente. Esto resulta en un c\xf3digo m\xe1s limpio y modular, facilitando la mantenibilidad y escalabilidad de las aplicaciones."]})}),"\n",(0,r.jsx)(o.admonition,{type:"info",children:(0,r.jsxs)(o.p,{children:["Los ",(0,r.jsx)(o.strong,{children:"custom hooks"})," pueden encapsular la l\xf3gica para realizar peticiones ",(0,r.jsx)(o.strong,{children:"HTTP"}),", manejar respuestas y errores, y gestionar estados de carga. Esto simplifica enormemente los componentes que consumen datos de ",(0,r.jsx)(o.strong,{children:"APIs"}),", ya que toda la l\xf3gica de red y manejo de datos se abstrae en un hook reutilizable."]})}),"\n",(0,r.jsxs)(o.p,{children:["Para crear un ",(0,r.jsx)(o.strong,{children:"custom hook"})," en ",(0,r.jsx)(o.strong,{children:"React"}),", comenzamos definiendo una funci\xf3n que encapsula la l\xf3gica o estado que deseamos reutilizar. Es importante recordar que todos los ",(0,r.jsx)(o.strong,{children:"hooks"})," personalizados deben comenzar con ",(0,r.jsx)(o.strong,{children:"use"}),", por ejemplo, ",(0,r.jsx)(o.strong,{children:"useFetch"}),"."]}),"\n",(0,r.jsx)(o.admonition,{type:"info",children:(0,r.jsxs)(o.p,{children:["Un ejemplo pr\xe1ctico podr\xeda ser un ",(0,r.jsx)(o.strong,{children:"hook"})," de estado que gestione un variable de estado. Este hook utilizar\xeda ",(0,r.jsx)(o.strong,{children:"useState"})," para almacenar y actualizar el valor del variable. Cada vez que necesitemos usar esta variable en nuestros componentes, podr\xedamos usar nuestro ",(0,r.jsx)(o.strong,{children:"custom hook"})," para manejar esta l\xf3gica de manera eficiente y reutilizable."]})}),"\n",(0,r.jsx)(o.h2,{id:"usefetch",children:"useFetch"}),"\n",(0,r.jsxs)(o.p,{children:["En el siguiente ejemplo creamos un ",(0,r.jsx)(o.strong,{children:"custom hook"})," nombrado ",(0,r.jsx)(o.strong,{children:"useFetch"})," en el archivo ",(0,r.jsx)(o.strong,{children:"/src/FetchHook.jsx"}),". El ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useFetch"})," recibe un par\xe1metro nombrado ",(0,r.jsx)(o.strong,{children:"url"})," y tiene tres variables de estado : ",(0,r.jsx)(o.strong,{children:"data"}),", ",(0,r.jsx)(o.strong,{children:"loading"})," y ",(0,r.jsx)(o.strong,{children:"error"}),". Por cada variable de estado, el ",(0,r.jsx)(o.strong,{children:"hook"})," define tres funciones : ",(0,r.jsx)(o.strong,{children:"setData"}),", ",(0,r.jsx)(o.strong,{children:"setLoading"})," y ",(0,r.jsx)(o.strong,{children:"setError"}),"."]}),"\n",(0,r.jsxs)(o.p,{children:["El ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useFetch"})," no retorna un elemento ",(0,r.jsx)(o.strong,{children:"HTML"}),", por el contrario retorna las variables de estado ",(0,r.jsx)(o.strong,{children:"data"}),", ",(0,r.jsx)(o.strong,{children:"loading"})," y ",(0,r.jsx)(o.strong,{children:"error"}),". Adicionalmente, el ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useFetch"})," defini\xf3 un ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useEffect"})," que invoca o consume una ",(0,r.jsx)(o.strong,{children:"API REST"})," a trav\xe9s de ",(0,r.jsx)(o.strong,{children:"fetch"}),"."]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-javascript",metastring:'title="/src/FetchHook.jsx"',children:"import { useState, useEffect } from 'react';\n\nexport const useFetch = (url) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(url);\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const result = await response.json();\n        setData(result);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [url]);\n\n  return { data, loading, error };\n}\n"})}),"\n",(0,r.jsx)(o.admonition,{type:"danger",children:(0,r.jsxs)(o.p,{children:["No debes llamar a ",(0,r.jsx)(o.strong,{children:"Hooks"})," como ",(0,r.jsx)(o.a,{href:"./useState",children:"useState"})," o ",(0,r.jsx)(o.a,{href:"./useEffect",children:"useEffect"})," condicionalmente o dentro de ciclos o funciones anidadas. Siempre deben ser utilizados en el nivel superior de tu componente o ",(0,r.jsx)(o.strong,{children:"Hook personalizado"}),". Esto asegura que los Hooks se ejecuten en el mismo orden cada vez que tu componente se renderiza, lo cual es crucial para el correcto funcionamiento de React."]})}),"\n",(0,r.jsxs)(o.p,{children:["Finalmente solo necesitamos reutilizar el ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useFetch"})," en alg\xfan componente que lo requiera:"]}),"\n",(0,r.jsxs)(o.p,{children:["En el archivo ",(0,r.jsx)(o.strong,{children:"/src/PokemonApp.jsx"})," se creo el componente ",(0,r.jsx)(o.strong,{children:"Pokemon"})," el cu\xe1l hace uso del ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useFetch"}),". El ",(0,r.jsx)(o.strong,{children:"hook"})," recibe la ",(0,r.jsx)(o.strong,{children:"url"})," o ",(0,r.jsx)(o.strong,{children:"endpoint"})," de la API REST que consumir\xe1 o invocar\xe1 y retorna una bandera que determina si a\xfan est\xe1 siendo consumida la API, una bandera que determina si se gener\xf3 un error y/o los datos obtenidos en la respuesta."]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-javascript",metastring:'title="/src/PokemonApp.jsx"',children:"import React from 'react'\nimport {useFetch} from './FetchHook'\n\nexport const Pokemon = () => {\n\n    const {data, loading, error} = useFetch('https://pokeapi.co/api/v2/type/3');\n\n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error: {error.message}</p>;\n\n    return (\n        <div>\n            <h1>Data:</h1>\n            <pre>{JSON.stringify(data, null, 2)}</pre>\n        </div>\n    );\n}\n"})}),"\n",(0,r.jsx)(o.h2,{id:"uselocalstorage",children:"useLocalStorage"}),"\n",(0,r.jsxs)(o.p,{children:["Otro de los hooks que uso frecuentemente es uno que facilita la manipulaci\xf3n del ",(0,r.jsx)(o.strong,{children:"local storage"})," del navegador. A continuaci\xf3n podremos ver que se cre\xf3 el ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useLocalStorage"})," el cu\xe1l recibe dos par\xe1metros : ",(0,r.jsx)(o.strong,{children:"key"})," e ",(0,r.jsx)(o.strong,{children:"initialValue"}),". El ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useLocalStorage"})," tiene una variable de estado : ",(0,r.jsx)(o.strong,{children:"storedValue"})," la cu\xe1l puede ser actualizada a trav\xe9s de la funci\xf3n ",(0,r.jsx)(o.strong,{children:"setStoredValue"}),"."]}),"\n",(0,r.jsxs)(o.p,{children:["En la definici\xf3n y uso del ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useState"})," se obtiene del ",(0,r.jsx)(o.strong,{children:"local storage"})," del navegador una llave. Si la encuentra, retorna el valor de esa llave, si no, retorna el valor inicial. Tanto la llave como el valor inicial representan los par\xe1metros del ",(0,r.jsx)(o.strong,{children:"hook"}),"."]}),"\n",(0,r.jsxs)(o.p,{children:["Tambi\xe9n encontraremos que se implement\xf3 la funci\xf3n ",(0,r.jsx)(o.strong,{children:"setValue"})," la cu\xe1l actualiza el valor de la variable de estado ",(0,r.jsx)(o.strong,{children:"storedValue"}),"."]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-javascript",metastring:'title="/src/LocalStorageHook.jsx"',children:"import { useState } from 'react';\n\nexport const useLocalStorage = (key, initialValue) => {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = value => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n"})}),"\n",(0,r.jsxs)(o.p,{children:["Finalmente solo necesitamos reutilizar el ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useLocalStorage"})," en alg\xfan componente que lo requiera:"]}),"\n",(0,r.jsxs)(o.p,{children:["En el archivo ",(0,r.jsx)(o.strong,{children:"/src/PokemonApp.jsx"})," se creo el componente ",(0,r.jsx)(o.strong,{children:"Pokemon"})," el cu\xe1l hace uso del ",(0,r.jsx)(o.strong,{children:"hook"})," ",(0,r.jsx)(o.strong,{children:"useLocalStorage"}),". El ",(0,r.jsx)(o.strong,{children:"hook"})," recibe como par\xe1metro el nombre de la llave y el valor que tendr\xe1 almacenado en el ",(0,r.jsx)(o.strong,{children:"local storage"})," del navegador."]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-javascript",metastring:'title="/src/PokemonApp.jsx"',children:"import React from 'react'\nimport {useLocalStorage} from './LocalStorageHook'\n\nexport const Pokemon = () => {\n\n    const {storedValue, setValue} = useLocalStorage('Pokemon elegido','Picachu');\n\n    return (\n        <div>\n            <h1>Pokemon elegido : {storedValue}</h1>\n        </div>\n    );\n}\n"})})]})}function u(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>l});var s=n(6540);const r={},a=s.createContext(r);function t(e){const o=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(a.Provider,{value:o},e.children)}}}]);